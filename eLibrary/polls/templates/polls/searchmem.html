{% extends './base.html' %}

{% block content %}
<div class="container" style="margin-top: 5%;">
  <h1 style="text-align: center;">ID/PW 찾기</h1>
  {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'error' %}
        <h2 class="form-signin-heading log-info-print">{{message.message}}</h2>
        <form class="form-signin" action="./retrievemem" method='POST'>{% csrf_token %}
          <div style="margin-top: 9%; margin-left: 15%;">
            <label for="phonenumber" class="form-label">전화번호</label>
            <input type="text" class="form-control" id="phonenumber" name='phonenumber' placeholder="-없이 입력" required
              style="width: 40%;">
          </div>
      
          <div style="margin-top: 11%; margin-right: 37%;">
            <button class="btn btn-lg btn-primary btn-block log-input-place" type="submit">확인</button>
          </div>
        </form>

      {% elif message.tags == 'success' %}
      <br>
      <h2 class="form-signin-heading" style="display: flex; margin-left: 40%; margin-top: 2%;">
        ID: {{usermail}}, 비밀번호: {{password}}
      </h2>

      <form class="form-signin" action="./" method='GET'>{% csrf_token %}
        <div style="margin-top: 5%; margin-right: 37%;">
          <button class="btn btn-lg btn-primary btn-block log-input-place" type="submit">메인으로 돌아가기</button>
        </div>
      </form>
      {% endif %}
    {% endfor %}

  {% else %}
  <form class="form-signin" action="./retrievemem" method='POST'>{% csrf_token %}
    <div style="margin-top: 9%; margin-left: 15%;">
      <label for="phonenumber" class="form-label">전화번호</label>
      <input type="text" class="form-control" id="phonenumber" name='phonenumber' placeholder="-없이 입력" required
        style="width: 40%;">
    </div>

    <div style="margin-top: 11%; margin-right: 37%;">
      <button class="btn btn-lg btn-primary btn-block log-input-place" type="submit">확인</button>
    </div>
  </form>
  {% endif %}
</div> <!-- /container -->
{% endblock %}